
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>KIN_LEAK &#8212; Goma User Manual 7.0.0 documentation</title>
  <script>
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=1e1de1a1873e13ef5536" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1e1de1a1873e13ef5536" rel="stylesheet">

  
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/6.1.2/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1e1de1a1873e13ef5536">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'problem_description_file/boundary_conditions/mesh/kin_leak';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../../../index.html">

  
  
  
  
  
  
  

  
    <img src="../../../_static/goma.png" class="logo__image only-light" alt="Logo image">
    <img src="../../../_static/goma.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                <li class="nav-item">
                    <a class="nav-link" href="../../../user_manual.html">
                        Goma User Manual
                    </a>
                </li>
                
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      <div class="navbar-end-item navbar-end__search-button-container">
        
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
      </div>
      
      <div class="navbar-end-item">
        <span class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" data-toggle="tooltip">
    <a class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="fa-regular fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>


  
  <div class="search-button-container--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
  </div>

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                <li class="nav-item">
                    <a class="nav-link" href="../../../user_manual.html">
                        Goma User Manual
                    </a>
                </li>
                
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <span class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" data-toggle="tooltip">
    <a class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="fa-regular fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
    
  </div>

  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

      </div>
      <main class="bd-main">
        
        
        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                
            </div>
            
            
            <article class="bd-article" role="main">
              
  <section id="kin-leak">
<h1><strong>KIN_LEAK</strong><a class="headerlink" href="#kin-leak" title="Permalink to this heading">#</a></h1>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BC</span> <span class="o">=</span> <span class="n">KIN_LEAK</span> <span class="n">SS</span> <span class="o">&lt;</span><span class="n">bc_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">float1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">float2</span><span class="o">&gt;</span>
</pre></div>
</div>
<section id="description-usage">
<h2><strong>Description / Usage</strong><a class="headerlink" href="#description-usage" title="Permalink to this heading">#</a></h2>
<p><strong>(SIC/ROTATED MESH)</strong></p>
<p>This boundary condition card is used as a distinguishing condition - kinematic with
mass transfer on mesh equations. The flux quantity is specified on a per mass basis so
heat and mass transfer coefficients are in units of L/t.</p>
<p>Definitions of the input parameters are as follows:</p>
<table class="table">
<tbody>
<tr class="row-odd"><td><p><strong>KIN_LEAK</strong></p></td>
<td><p>Name of the boundary condition (&lt;bc_name&gt;).</p></td>
</tr>
<tr class="row-even"><td><p><strong>SS</strong></p></td>
<td><p>Type of boundary condition (&lt;bc_type&gt;), where <strong>SS</strong> denotes
side set in the EXODUS II database.</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;bc_id&gt;</p></td>
<td><p>The boundary flag identifier, an integer associated with
&lt;bc_type&gt; that identifies the boundary location (side set in
EXODUS II) in the problem domain.</p></td>
</tr>
<tr class="row-even"><td><p>&lt;float1&gt;</p></td>
<td><p>Mass transfer coefficient for bulk fluid (species <em>n</em> +1).</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;float2&gt;</p></td>
<td><p>Driving force concentration in external phase.</p></td>
</tr>
</tbody>
</table>
<p>Please see Technical Discussion regarding the appropriate units for the mass transfer
coefficient and concentration in the external phase. For a pure liquid case, these inputs
are read directly from this card, while for a multi-component case these values are read
from <em>YFLUX</em> boundary conditions corresponding to each species that is needed. See
following examples.</p>
</section>
<section id="examples">
<h2><strong>Examples</strong><a class="headerlink" href="#examples" title="Permalink to this heading">#</a></h2>
<p>Following are two sample input cards:</p>
<p>Pure Liquid Case</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BC</span> <span class="o">=</span> <span class="n">KIN_LEAK</span> <span class="n">SS</span> <span class="mi">3</span>   <span class="mf">0.1</span>   <span class="mf">0.</span>
</pre></div>
</div>
<p>Two Component Case</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BC</span> <span class="o">=</span> <span class="n">KIN_LEAK</span> <span class="n">SS</span> <span class="mi">3</span>   <span class="mf">0.</span>   <span class="mf">0.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BC</span> <span class="o">=</span> <span class="n">YFLUX</span> <span class="n">SS</span> <span class="mi">3</span>   <span class="mi">0</span>   <span class="mf">0.12</span>   <span class="mf">0.</span>
</pre></div>
</div>
<p>Note, in the two component case, when <em>Goma</em> finds the <em>KIN_LEAK</em> card, it scans the
input deck to locate the applicable <em>YFLUX</em> conditions associated with side set 3 and
creates a linked list which is used by the applying function (<em>kin_bc_leak</em>). The
existence of this list is denoted in <em>Goma</em> by the addition of an integer into an unused
field of the BC structure for side set 3. The bulk fluid constitutes the second component
and is non-volatile so it requires no <em>YFLUX</em> card; a second volatile species would
require a second <em>YFLUX</em> input card.</p>
</section>
<section id="technical-discussion">
<h2><strong>Technical Discussion</strong><a class="headerlink" href="#technical-discussion" title="Permalink to this heading">#</a></h2>
<p>Functionally, the <em>KIN_LEAK</em> boundary condition can be represented as the following:</p>
<div class="math notranslate nohighlight">
\[\underline n \cdot \left(\underline v - \underline v_s\right) = \sum_{i} h_i \left(y_i - y_i^0\right)\]</div>
<p>where <strong>EQUATION</strong> is the vector velocity; <strong>EQUATION</strong> is the velocity of the boundary itself (not independent
from the mesh velocity); <strong>EQUATION</strong> is the normal vector to the surface; <strong>EQUATION</strong> is the concentration
of species <em>i</em>; <strong>EQUATION</strong> is the ambient concentration of species <em>i</em> at a distance from the surface
of interest and <strong>EQUATION</strong> is the mass transfer coefficient for species <em>i</em>. This function returns a
volume flux term to the equation assembly function.</p>
<p><em>KIN_LEAK</em> is implemented through function <em>kin_bc_leak</em>; it sums the fluxes for all
species plus the bulk phase evaporation. These fluxes are computed via several other
function calls depending on the particular flux condition imposed on the boundary.
(See various <em>YFLUX</em> * cards for Mass Equations.) However, at the end of the
<em>kin_bc_leak</em> function, the accumulated flux value is assigned to variable <em>vnormal</em>, i.e.,
the velocity of fluid relative to the mesh. The apparent absence of a density factor here
to convert a volume flux to a mass flux is the crucial element in the proper usage of the
flux boundary conditions. The explanation is rooted in the formulation of the
convective-diffusion equation.</p>
<p>The convective-diffusion equation in <em>Goma</em> is given as</p>
<div class="math notranslate nohighlight">
\[\frac{d y_i}{dt} = - \left(v - v_m\right) \cdot \nabla y_i - \nabla \cdot J_i + R_i\]</div>
<p>with mass being entirely left out of the expression. <em>J</em> is divided by density before
adding into the balance equation; this presumes that volume fraction and mass fraction
are equivalent. The users must be aware of this. This formulation is certainly
inconvenient for problems where volume fraction and mass fraction are not equal and
multicomponent molar fluxes are active elements of an analysis. However, <em>kin_bc_leak</em>
is entirely consistent with the convective-diffusion equation as a velocity is a volume
flux, and multiplied by a density gives a proper mass flux. If y<sub>i</sub> is a mass
concentration,
and h<sub>i</sub> were in its typical velocity units, the result is a mass flux; if
y<sub>i</sub> is a volume
fraction, then we have a volume flux. So <em>kin_bc_leak</em> is consistent.</p>
<p>The burden here lies with the user to be consistent with a chosen set of units. A
common approach is to build density into the mass transfer coefficient h<sub>i</sub> .</p>
</section>
<section id="faqs">
<h2><strong>FAQs</strong><a class="headerlink" href="#faqs" title="Permalink to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>See the FAQ pertaining to “Continuation Strategies for Free Surface Flows” on the
<em>DISTNG</em> boundary condition card.</p></li>
<li><p>A question was raised regarding the use of volume flux in <em>Goma</em>; the following
portion of the question and response elucidate this topic and the subject of units. Being from several emails exchanged during January 1998, the deficiencies or lack of clarity have since been remedied prior to <em>Goma</em> 4.0, but the discussions are relevant for each user of the code.</p></li>
</ol>
<p><strong>Question</strong>: … I know what you are calling volume flux is mass flux divided by
density. The point I am trying to make is that the conservation equations in the books I
am familiar with talk about mass, energy, momentum, and heat fluxes. Why do you not
write your conservation equations in their naturally occurring form? If density just so
happens to be common in all of the terms, then it will be obvious to the user that the
problem does not depend on density. You get the same answer no matter whether you
input rho=1.0 or rho=6.9834, provided of course this does not impact iterative
convergence. This way, you write fluxes in terms of gradients with the transport
properties (viscosity, thermal conductivity, diffusion coefficient, etc.) being in familiar
units.</p>
<p><strong>Answer</strong>: … First let me state the only error in the manual that exists with regard to
the convection-diffusion equation (CDE) is the following:</p>
<blockquote>
<div><p>J<sub>i</sub> in the nomenclature table should be described as a volume flux with units
of L/t, i.e., D ⋅ ∇y<sub>i</sub>, where D is in L<sup>2</sup>/t units.</p>
</div></blockquote>
<p>Now, this is actually stated correctly elsewhere, as it states the J<sub>i</sub> is a
diffusion flux
(without being specific); to be more specific here, we should say it is a “volume flux of
species i.” So, in this case D is in L ⋅ L/t units y<sub>i</sub>, is dimensionless and it
is immaterial
that the CDE is multiplied by density or not, <em>as long as density is constant</em>.</p>
<p>Now, in <em>Goma</em> we actually code it with no densities anywhere for the FICKIAN diffusion model. For the HYDRO diffusion model, we actually compute a J<sub>i</sub>  /ρ in
the code, and handle variable density changes through that ρ. In that case J<sub>i</sub>
as computed in <em>Goma</em> is a mass flux vector, not a volume flux vector, but by dividing it
by ρ and sending it back up to the CDE it changes back into a volume flux. i. e.,
everything is the same.</p>
<p>Concerning the units of the mass transfer coefficient on the YFLUX boundary
condition, the above discussion now sets those. <em>Goma</em> clearly needs the flux in the
following form:</p>
<div class="math notranslate nohighlight">
\[\underline n \cdot D \nabla Y = K \cdot \left(p_i - p_i^{\infty}\right)\]</div>
<p>and dimensionally for the left hand side</p>
<div class="math notranslate nohighlight">
\[\left(L^2 / t\right) \cdot \left(1/L \right) = L/t\]</div>
<p>where D is in units L<sup>2</sup>/t, the gradient operator has units of 1/L so K <em>has</em> to
be in units
of L/t (period!) because y<sub>i</sub> is a fraction.</p>
<p>So, if you want a formulation as follows:</p>
<div class="math notranslate nohighlight">
\[\underline n \cdot D \nabla Y = K \left(y_i - y_i^{\infty} \right)\]</div>
<p>then K’s units will have to accommodate for the relationship between p<sub>i</sub> and
y<sub>i</sub> in the
liquid, hopefully a linear one as in Raoult’s law, i.e. if p<sub>i</sub> = PvV<sub>i</sub>
where Pv is the vapor
pressure, then</p>
<div class="math notranslate nohighlight">
\[\underline n \cdot D \nabla Y = KP_V \left(y_i - y_i^{\infty} \right)\]</div>
<p>and so K on the YFLUX command has to be KPv….and so on.</p>
<p>Finally, you will note, since we do not multiply through by density, you will have to
take care of that, i. e., in the Price paper he gives K in units of t/L. So, that must be
converted as follows:</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}K_{price} \left(P_V / p \right) = K_{goma}\\\left(t / L \right) \left(M / L t^2\right) \left(L^3 / M \right) = L/t\end{aligned}\end{align} \]</div>
<p>This checks out!</p>
</section>
<section id="references">
<h2><strong>References</strong><a class="headerlink" href="#references" title="Permalink to this heading">#</a></h2>
<p>Price, P. E., Jr., S. Wang, I. H. Romdhane, “Extracting Effective Diffusion Parameters
from Drying Experiments,” AIChE Journal, 43, 8, 1925-1934 (1997)</p>
</section>
</section>


            </article>
            
            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            </footer>
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#description-usage">
   <strong>
    Description / Usage
   </strong>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#examples">
   <strong>
    Examples
   </strong>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#technical-discussion">
   <strong>
    Technical Discussion
   </strong>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#faqs">
   <strong>
    FAQs
   </strong>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#references">
   <strong>
    References
   </strong>
  </a>
 </li>
</ul>

</nav>
</div>

<div class="toc-item">
  
<div id="searchbox"></div>
</div>

<div class="toc-item">
  
</div>

<div class="toc-item">
  
<div class="tocsection sourcelink">
    <a href="../../../_sources/problem_description_file/boundary_conditions/mesh/kin_leak.rst.txt">
        <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
</div>

</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
          </div>
        </footer>
        
      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1e1de1a1873e13ef5536"></script>

  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2019 Goma Developers.<br>

</p>

  </div>
  
  <div class="footer-item">
    
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0.<br>
</p>

  </div>
  
</div>
  </footer>
  </body>
</html>